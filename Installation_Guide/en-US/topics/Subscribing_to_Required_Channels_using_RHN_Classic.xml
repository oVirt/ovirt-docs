<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "Installation_Guide.ent">
%BOOK_ENTITIES;
]>

<section id="Subscribing_to_Required_Channels_using_RHN_Classic" remap="TID_10235">
	<title>Subscribing to Required Channels using RHN Classic</title>
	<itemizedlist>
		<title role="process-previous-title">Previous Step in <link linkend="proc-Preparing_a_Red_Hat_Enterprise_Linux_Host">Preparing a Fedora Host</link></title>
		<listitem>
			<para role="process-previous-link">
				<xref linkend="Subscribing_to_Required_Channels_using_Subscription_Manager"/>
			</para>
		</listitem>
	</itemizedlist>
	<formalpara>
		<title>Summary</title>
		<para>
			To be used as a virtualization host a Fedora host be registered and subscribed to a number of entitlements using either Subscription Manager or <acronym>RHN</acronym> Classic. You must follow the steps in this procedure if you wish to register and subscribe using <acronym>RHN</acronym> Classic. Completion of this procedure will mean that you have: 
			<itemizedlist>
				<listitem>
					<para>
						registered the virtualization host to Red Hat Network using <acronym>RHN</acronym> Classic;
					</para>
				</listitem>
				<listitem>
					<para>
						subscribed the virtualization host to the <literal>Fedora Server (v. 6 for 64-bit AMD64 / Intel64)</literal> channel; and
					</para>
				</listitem>
				<listitem>
					<para>
						subscribed the virtualization host to the <literal>Red Hat Enterprise Virt Management Agent (v 6 x86_64)</literal> channel.
					</para>
				</listitem>
			</itemizedlist>Do <emphasis>not</emphasis> follow the steps in this procedure if you wish to register and subscribe using Subscription Manager.
		</para>
	</formalpara>
	<procedure>
		<title>Subscribing to required channels using RHN Classic</title>
		<step>
			<title>Register</title>
			<para>
				If the machine has not already been registered with Red Hat Network, run the <command>rhn_register</command> command as <systemitem> root</systemitem> to register it. To complete registration successfully you will need to supply your Red Hat Network <guilabel>Username</guilabel> and <guilabel>Password</guilabel>. Follow the prompts displayed by <command>rhn_register</command> to complete registration of the system.
			</para>
			<screen># rhn_register</screen>
		</step>
		<step>
			<title>Subscribe to channels</title>
			<para>
				You must subscribe the system to the required channels using either the Red Hat Network web interface or the command line <command>rhn-channel</command> command.
			</para>
			<stepalternatives>
				<step>
					<title>Using the Red Hat Network web interface</title>
					<para>
						To add a channel subscription to a system from the web interface:
					</para>
					<substeps>
						<step>
							<para>
								Log on to Red Hat Network (<ulink url="http://rhn.redhat.com"/>).
							</para>
						</step>
						<step>
							<para>
								Move the mouse cursor over the <guilabel>Subscriptions</guilabel> link at the top of the screen, and then click the <guilabel>Registered Systems</guilabel> link in the menu that appears.
							</para>
						</step>
						<step>
							<para>
								Select the system to which you are adding channels from the list presented on the screen, by clicking the name of the system.
							</para>
						</step>
						<step>
							<para>
								Click <guilabel>Alter Channel Subscriptions</guilabel> in the <guilabel>Subscribed Channels</guilabel> section of the screen.
							</para>
						</step>
						<step>
							<para>
								Select the channels to be added from the list presented on the screen. To use the virtualization host in a oVirt environment you must select: 
								<itemizedlist>
									<listitem>
										<para>
											<guilabel>Fedora Server (v. 6 for 64-bit x86_64)</guilabel>; and
										</para>
									</listitem>
									<listitem>
										<para>
											<guilabel>Red Hat Enterprise Virt Management Agent (v 6 x86_64)</guilabel>.
										</para>
									</listitem>
								</itemizedlist>
								<note>
									<para>
										Beta releases of oVirt are distributed using an alternative channel. Beta releases consist of pre-release software. They must not be used in a production environment. The channel required to obtain beta releases of the oVirt Agent is called <literal>Red Hat Enterprise Virt Management Agent Beta (v 6 x86_64)</literal>.
									</para>
								</note>
							</para>
						</step>
						<step>
							<para>
								Click the <guilabel>Change Subscription</guilabel> button to finalize the change.
							</para>
						</step>
					</substeps>
				</step>
				<step>
					<title>Using the rhn-channel command</title>
					<para>
						Run the <command>rhn-channel</command> command to subscribe the virtualization host to each of the required channels. The commands that need to be run are:
					</para>
					<screen># rhn-channel --add --channel=rhel-x86_64-server-6
# rhn-channel --add --channel=rhel-x86_64-OVIRTgmt-agent-6					</screen>
					<note>
						<para>
							Beta releases of oVirt are distributed using an alternative channel. Beta releases consist of pre-release software. They must not be used in a production environment. The channel required to obtain beta releases of the oVirt Agent is called <literal>rhel-x86_64-OVIRTgmt-agent-6-beta</literal>.
						</para>
					</note>
					<important>
						<para>
							If you are not the Red Hat Network administrator for the machine, or the machine is not registered to Red Hat Network, then use of the <command>rhn-channel</command> command will result in an error:
						</para>
						<screen>Error communicating with server. The message was:Error Class Code: 37
Error Class Info: You are not allowed to perform administrative tasks on this system.
Explanation:      
     An error has occurred while processing your request. If this problem
     persists please enter a bug report at bugzilla.redhat.com.
     If you choose to submit the bug report, please be sure to include
     details of what you were trying to do when this error occurred and
     details on how to reproduce this problem.						</screen>
						<para>
							If you encounter this error when using <command>rhn-channel</command> then to add the Red Hat Network channel to the system you must use the web user interface instead.
						</para>
					</important>
				</step>
			</stepalternatives>
		</step>
	</procedure>
	<formalpara>
		<title>Result</title>
		<para>
			You have registered the virtualization host to Red Hat Network and subscribed to the required entitlements using <acronym>RHN</acronym> Classic.
		</para>
	</formalpara>
	<itemizedlist>
		<title role="process-next-title">Next Step in <link linkend="proc-Preparing_a_Red_Hat_Enterprise_Linux_Host">Preparing a Fedora Host</link></title>
		<listitem>
			<para role="process-next-link">
				<xref linkend="Configuring_Virtualization_Host_Firewall"/>
			</para>
		</listitem>
	</itemizedlist>
	<simplesect>
		<title/>
		<para role="RoleCreateBugPara">
			<ulink url="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Instance+Name%3A+Not+Defined%0ABuild%3A+CSProcessor+Builder+Version+1.5%0ABuild+Filter%3A+null%0ABuild+Name%3A+%0ABuild+Date%3A+20-07-2012+14%3A00%3A28&amp;cf_build_id=10235-163388+20+Jul+2012+14%3A00+en-US&amp;product=oVirt&amp;component=doc-Installation_Guide">Report a bug</ulink>
		</para>
	</simplesect>
</section>